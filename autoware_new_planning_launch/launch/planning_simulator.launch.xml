<launch>
  <!-- essential params -->
  <arg name="map_path" description="point cloud and lanelet2 map directory path"/>
  <arg name="vehicle_model" description="vehicle model name"/>
  <arg name="sensor_model" description="sensor model name"/>

  <!-- topic name -->
  <arg name="control_component_input" default="/planning/scenario_planning/trajectory"/>
  <arg name="selector_component_input" default="/planning/candidate/trajectories"/>
  <arg name="planning_component_output" default="/planning/autoware/trajectory"/>

  <!-- option -->
  <arg name="use_sim_time" default="false" description="use_sim_time"/>
  <arg name="rviz_config" default="$(find-pkg-share autoware_new_planning_launch)/rviz/autoware.rviz" description="rviz config"/>

  <group scoped="false">
    <include file="$(find-pkg-share autoware_launch)/launch/planning_simulator.launch.xml">
      <arg name="rviz_config" value="$(var rviz_config)"/>
      <arg name="map_path" value="$(var map_path)"/>
      <arg name="vehicle_model" value="$(var vehicle_model)"/>
      <arg name="sensor_model" value="$(var sensor_model)"/>
      <arg name="planning_component_output" value="$(var planning_component_output)"/>
    </include>

    <!-- convert topic type -->
    <node pkg="autoware_new_planning_msgs_converter" exec="autoware_new_planning_msgs_converter_node" name="trajectory_to_trajectories" namespace="">
      <!-- params -->
      <param name="input_topic" value="$(var planning_component_output)"/>
      <param name="output_topic" value="$(var selector_component_input)"/>
      <param name="generator_name" value="autoware"/>
    </node>
  </group>
</launch>
